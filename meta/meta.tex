\documentclass{amsbook}
\usepackage{mathtools}

\newcommand{\setsm}[1]{\left\{#1\right\}}
\newcommand{\given}{\mathrel |}

\newcommand{\wffs}{\mathcal W}

\newcommand{\infers}{\mathrel\vdash}
\newcommand{\theorem}{\mathord\vdash\medspace}

\newcommand{\then}{\mathrel\rightarrow}
\newcommand{\conj}{\mathrel\&}
\newcommand{\eqv}{\mathrel\leftrightarrow}
\newcommand{\disj}{\mathrel\vee}

\theoremstyle{definition}
\newenvironment{hackthm}[2][section]{
    \newtheorem{new}{#2}[#1]
    \begin{new}
}{\end{new}}

\newtheorem{axm}{Axiom}[section]
\newtheorem{prop}{Property}[section]
\newtheorem{frule}{Rule}[section]
\newtheorem{op}{Operator}[section]

\newtheorem{thm}{Theorem}[section]
\newtheorem{lmm}{Lemma}[section]
\newtheorem{crl}{Corollary}[section]
\newtheorem{dfn}{Definition}[section]


\begin{document}
\title{Metamathema}
\author{Olesj Bilous}
\maketitle

\chapter{Propositional logic}

\begin{dfn}
    A proposition $P$ signifies a qualitatively nondescript yet uni-quely identifiable fact $P^*$ that is either the case or not.

    We may consider the set $\mathcal W$ of all propositions.
\end{dfn}


\begin{dfn}
    A logical operator $o$ may act on any enumeration $\mathcal E$ of a fixed number $n \in \mathbb N$ of propositions $\mathcal E \subseteq \mathcal W$ to compose a new proposition $o(\mathcal E) = P \in \mathcal W$ where $P \notin \mathcal E$.

    The fixed number $n$ is said to be the order of the operator.

    Any proposition in the enumeration $\mathcal E_i \in \mathcal E$ is said to be in the scope of the operator at position $i$.
\end{dfn}

\begin{thm}
    There is no bound to the propositions that we may enumerate: if $|\mathcal E| \in \mathbb N$ then $\mathcal E \subset \mathcal W$.
    \begin{proof}
        Consider $P_{i+1} = o((\mathcal E \setminus \setsm {\mathcal E_1}) \cup \setsm {P_i})$ where $P_0 = \mathcal E_1$.

        Taking $\mathcal D_i = \bigcup_{j=0}^i \setsm {P_j}$ we see that $\mathcal D_i \subset \mathcal D_{i+1} \subseteq \wffs$ so $|\mathcal D_i| = i < |\mathcal W|$ for all $i \in \mathbb N$ hence $|\mathcal W| \notin \mathbb N$.
    \end{proof}
\end{thm}


\begin{op}[Material implication]
    For any $P, Q \in \wffs$:
    $$
        P \rightarrow Q \in \wffs.
    $$
    If $(P \rightarrow Q)^*$ is the case, then if $P^*$ (the implicans) is the case, then so is $Q^*$ (the implicandum). The implicans is said to be a sufficient condition for the implicandum.
\end{op}

\begin{op}[Negation]
    For any $P \in \wffs$:
    $$
        \neg P \in \wffs.
    $$
    If $(\neg P)^*$ is the case then $P^*$ is not the case.
\end{op}

Clearly propositions acted on by logical operators may themselves be composed of propositions. This may introduce ambiguity in the notation.

\begin{dfn}
    Parentheses $($, $)$ indicate the scope of a logical operator in a composite proposition.
\end{dfn}

For instance $\neg R$ for $R = P \then Q$ may be written $\neg(P \then Q)$.

Composite propositions may be distinguished from those that contain no logical operators.

\begin{dfn}
    When a proposition $a$ is atomic there is no logical operator $o$ nor any enumeration of propositions $\mathcal E \subset \wffs$ such that $a = o(\mathcal E)$.

    Atomic propositions are uniquely enumerable without bound.
\end{dfn}

In the alphabet formed by atomic propositions, logical operators and parentheses not every expression composed of an enumeration of symbols forms a proposition that belongs to the logic. For instance, $\then a$ and $)a \neg$ are ill formed. Therefore $\mathcal W$ is known as the set of well formed formulas.

For purposes of investigation we may introduce an atom symbol $a$ and a succession symbol $'$ such that an exhaustive enumeration $\mathcal E$ of atomic propositions may be denoted $\mathcal E_0 = a$ and $\mathcal E_{i+1} = (\mathcal E_i)'$ for all $i \in \mathbb N$. The alphabet $a, ', \then, \neg, (, )$ permits every expression to be encoded as a natural number in base $6$.

\begin{thm}
    The well formed formulas are enumerable $|\wffs| \leq |\mathbb N|$.
\end{thm}

Should we extend the alphabet with a propositional variable symbol $p$ then any expression containing this symbol is evidently ill formed. Nonetheless we may combine it with the succession symbol $'$ to denote instances of propositional variables in a metatheoretical expression.

\begin{dfn}
    Uniform substitution $\varphi(p / P)$ of a propositional variable $p$ with a proposition $P \in \wffs$ substitutes every instance of the variable in the expression $\varphi$ with an instance of the proposition.
\end{dfn}

\begin{dfn}
    A formula $\varphi$ is a metatheoretical expression that becomes a well formed formula $F \in \wffs$ once every propositional variable $p \in \varphi$ has been substituted uniformly with some well formed formula $P \in \wffs$.

    The resulting proposition is known as an instance of the formula $F = \varphi(\mathcal E)$ where $\mathcal E \subset \wffs$ enumerates the substituting propositions in order of substitution.
\end{dfn}

Note that only a formula with no instance of any propositional variable is well formed.

We have used formulas before to define logical operators.
Now we can use them to express the logical structure shared by all instances of a formula.

The set of all formulas shall be denoted $\Phi$.

Different formulas may contain instances of the same propositional variable.

\begin{dfn}
    An instance $\varLambda(\mathcal E)$ of a set of formulas $\varLambda \in \Phi$ follows from substitution of all propositional variables uniformly over the set $\varLambda(\mathcal E)_i = \varLambda_i(\mathcal E)$.
\end{dfn}

\begin{dfn}
    A set of propositions $\mathcal E \subseteq \wffs$ may allow us to infer $\mathcal E \infers P$ a proposition $P$.

    In that case the propositions of $\mathcal E$ are known as premises whereas $P$ is said to be a syntactic consequence.

    A rule of inference $\Lambda \infers \kappa$ relates a finite set of formulas $(\varLambda \cup \setsm \kappa) \subset \Phi$ such that $\varLambda(\mathcal E) \infers \kappa(\mathcal E)$ for every instance $(\varLambda \cup \setsm \kappa)(\mathcal E)$.

    Every inference is an instance of some rule of inference. This ensures that inference is structural.
\end{dfn}

\begin{dfn}
    The deductive closure $\partial \mathcal E$ of an enumeration of propositions $\mathcal E \subseteq \wffs$ contains all syntactic consequences $\mathcal E \infers P$.
\end{dfn}

\begin{prop}[Transitivity]
    Inference is transitive such that if $\mathcal E \infers P$ for all $P \in \mathcal D$ and $\mathcal D \infers Q$ then $\mathcal E \infers Q$.
\end{prop}

\begin{frule}[Modus ponens]
    $$\begin{aligned}p \rightarrow q, \\ p\end{aligned} \infers q$$
\end{frule}

\section{Inferential approach}

The following property allows us to infer over the possibility of inference itself. Consider the extension $\mathcal E \cup\setsm P$ of some premises $\mathcal E$ with a proposition $P$ known as the hypothesis.

\begin{prop}[Deduction]
    If $\mathcal E \cup\setsm P \infers Q$ then
    $$\mathcal E \infers P \then Q.$$
    for all $\mathcal E \subset \wffs$.
\end{prop}

Hence the subject of hypothesis is sufficient condition for what can be inferred from the extension.

This holds a fortiori for any finite $\varLambda \subset \Phi$ such that $\varLambda \cup \setsm p \infers q$ since it holds for all instances.

Furthermore this entails a familiar property.

\begin{thm}[Linearity of inference]
    If $\varLambda \infers p$ and $\varLambda \cup \setsm p \infers q$ then $\varLambda \infers q$ for all $\varLambda \subset \Phi$.
    \begin{proof}
        From $\varLambda \infers p \then q$ and transitivity of inference.
    \end{proof}
\end{thm}

Some expected properties of the implication can now follow.

\begin{thm}[Transitivity of implication]
    $$\begin{aligned}
            p \then q, \\
            q \then r
        \end{aligned} \infers p \then r$$
    \begin{proof}
        From $p \then q, q \then r, p \infers r$.
    \end{proof}
\end{thm}

\begin{crl}[Distributivity of implication]
    $$p \then (q \then r) \infers (p \then q) \then (p \then r)$$
\end{crl}

The following rule seems all too evident.

\begin{frule}[Reflection]
    $$p \infers p$$
\end{frule}

It allows us to prove the following theorems.

\begin{thm}[Reflexivity of implication]
    $$\theorem p \then p$$
\end{thm}

\begin{thm}[Materiality of implication]
    $$p \infers q \then p$$
    \begin{proof}
        $p, q \infers p$, also known as ex quod libet verum.
    \end{proof}
\end{thm}

The preceding rules and theorems have applied exclusively to the implication. The following rule introduces the syntactic role of the negation.

\begin{frule}[Contraposition]
    $$p \then q \infers \neg q \then \neg p$$
\end{frule}

This shows a property of inference.

\begin{thm}[Contrapositivity]
    If $p \infers q$ then $\neg q \infers \neg p$.
\end{thm}

\begin{lmm}[Ex falso negatio quod libet]
    $$p, \neg p \infers \neg q$$
    \begin{proof}
        $p \infers q \then p$.
    \end{proof}
\end{lmm}

\begin{frule}[Introduction of double negation]
    $$p \infers \neg\neg p$$
\end{frule}

\begin{lmm}[Contraposition with left elimination]
    $$p \then \neg q \infers q \then \neg p$$
    \begin{proof}
        $q \then \neg\neg q$ is transitive with $\neg\neg q \then \neg p$.
    \end{proof}
\end{lmm}

\begin{thm}[Negatio improbis]
    For any formula $\tau$ such that $\theorem \tau$:
    $$p \then \neg \tau \infers \neg p.$$
\end{thm}

\begin{thm}[Introduction of conjuction]
    $$p, q \infers \neg(p \then \neg q)$$
    \begin{proof}
        We can deduce $p \infers (p \then \neg q) \then \neg q$ from modus ponens.
    \end{proof}
\end{thm}

This has a special case with an interesting consequence.

\begin{lmm}[Negatio reprobis]
    $$p \then \neg p \infers \neg p$$
    \begin{proof}
        $p \infers \neg(p \then \neg p)$.
    \end{proof}
\end{lmm}

\begin{thm}[Reductio ad absurdum]
    $$\begin{aligned}
            p \then q, \\ p \then \neg q
        \end{aligned} \infers \neg p$$
\end{thm}

By contrapositivity we also have the following.

\begin{crl}[Commutativity of conjunction]
    $$\neg(p \then \neg q) \infers \neg(q \then \neg p)$$
\end{crl}

The final rule completes the law of double negation.

\begin{frule}[Elimination of double negation]
    $${\neg\neg p} \infers p$$
\end{frule}

This rule has been controversial since it allows the following.

\begin{thm}[Proof by contradiction]
    $$\neg p \then q, \neg p \then \neg q \infers p$$
\end{thm}

It completes the law of commutativity.

\begin{lmm}[Commutativity of disjunction]
    $$\neg p \then q \infers \neg q \then p$$
\end{lmm}

As a result we may complete the law of conjuction and show another interesting consequence.

\begin{crl}[Elimination of conjunction]
    $$\neg(p \then \neg q) \infers p, q$$
    \begin{proof}
        $\neg p \infers q \then \neg p$.
    \end{proof}
\end{crl}

\begin{crl}[Introduction of disjunction]
    $$p \infers \neg p \then q$$
    \begin{proof}
        $p \infers \neg q \then p$.
    \end{proof}
\end{crl}

\begin{thm}[Ex falso quod libet]
    $$\begin{aligned}
            p, \\ \neg p
        \end{aligned}\infers q$$
\end{thm}

Furthermore the completion of the law of contraposition allows us to conclude with a remarkable result.

\begin{lmm}[Converse contraposition]
    $$\neg p \then \neg q \infers q \then p$$
\end{lmm}

\begin{thm}[Peirce's law]
    $$(p \then q) \then p \infers p$$
    \begin{proof}
        We know that $\theorem \neg p \then (\neg q \then \neg p)$ so $\theorem \neg p \then (p \then q)$. However, in that case $\neg p \then \neg(p \then q) \infers p$.
    \end{proof}
\end{thm}


\section{Alternative operators}


\begin{op}[Disjunction]
    We define $P \disj Q$ as $\neg P \then Q$.
\end{op}

\begin{thm}[Modus tollens]
    $$p \disj q, \neg p \infers q$$
\end{thm}

\begin{op}[Conjuction]
    We define $P \conj Q$ as $\neg(P \then \neg Q)$.
\end{op}

\begin{thm}[Modus expellens]
    $$\neg(p \conj q), p \infers \neg q$$
\end{thm}

\begin{thm}[Law against contradiction]
    $$\theorem \neg(p \conj \neg p)$$
    \begin{proof}
        $\theorem \neg\neg(p \then \neg\neg p)$.
    \end{proof}
\end{thm}

Hence $p \then q$ can be expressed as $\neg(p \conj \neg q)$.

\begin{thm}[Law of the excluded middle]
    $$\theorem \neg p \disj p$$
    \begin{proof}
        $\theorem \neg\neg p \then p$.
    \end{proof}
\end{thm}

Now $p \then q$ expresses as $\neg p \disj q$.

\begin{op}[Equivalence]
    We define $P \eqv Q$ as $(P \then Q) \conj (Q \then P)$.
\end{op}

\section{Axiomatic approach}

We may disregard all properties and rules from the inferential approach. Instead we consider a special set of formulas $\Xi \subset \Phi$ known as axioms.

\begin{prop}
    If $\varLambda \cup \Xi \infers p$ then $\varLambda \infers p$.
\end{prop}

\begin{axm}
    $p \then (q \then p)$
\end{axm}

\begin{axm}
    $(p \then (q \then r)) \then ((p \then q) \then (p \then r))$
\end{axm}

\begin{lmm}
    $\theorem p \then p$
    \begin{proof}
        Taking $\alpha = p \then ((q \then p) \then p)$ and $\beta = p \then (q \then p)$ we have $\alpha \then (\beta \then (p \then p)), \alpha, \beta \in \Xi$.
    \end{proof}
\end{lmm}

\begin{crl}
    $p \infers p$
\end{crl}

\begin{thm}[Deduction]
    If $\varLambda \cup \setsm p \infers q$ then $\varLambda \infers p \then q$.
    \begin{proof}
        We have $\varLambda \infers p \then \alpha$ for any $\alpha \in \varLambda \cup \setsm p$.

        Hence for any $\alpha \then \beta \in \varLambda \cup \setsm p$ we have $\varLambda \infers p \then (\alpha \then \beta)$.

        Evidently $\varLambda \infers p \then \beta$ permits continued deduction until we show $\varLambda \infers p \then \gamma$ for any $\gamma \in \partial(\varLambda \cup \setsm p)$.
    \end{proof}
\end{thm}

\begin{axm}
    $(\neg p \then \neg q) \then (q \then p)$
\end{axm}

\begin{thm}[Double negation elimination]
    $\theorem \neg\neg p \then p$
    \begin{proof}
        $\neg\neg p \infers \neg\neg(\neg\neg p) \then \neg\neg p$.
    \end{proof}
\end{thm}

\begin{thm}[Double negation introduction]
    $\theorem p \then \neg\neg p$
    \begin{proof}
        $\theorem \neg\neg(\neg p) \then \neg p$.
    \end{proof}
\end{thm}

Evidently the axiomatic approach allows precisely the same syntactic derivations as the inferential.

\newpage

Since $\theorem p \then (q \then \neg(p \then \neg q))$, a theorem deduced from modus ponens, we have $\theorem \neg(p \conj (q \conj \neg(p \conj q)))$.

From $\theorem p \then (q \then p)$ we have $\neg(p \conj (q \conj \neg p)) $.

Since $\theorem (p \then (q \then r)) \then ((p \then q) \then (q \then r))$ we have $\neg((\neg r \conj q) \conj p) \infers \neg((p \conj q) \conj \neg(p \conj r))$.

We need double negation elimination to introduce an inferential analogue of modus ponens $\neg(p \conj \neg q), p \infers q$ as well as to complete the law of conjuction $p \conj q \infers p, q$.

Reductio ad absurdum may be expressed $\neg(p \conj q), \neg(p \conj \neg q) \infers \neg p$.



We have $p \disj q, \neg p \infers q$ modus tollens.

Distributivity becomes $p \disj (q \disj r) \infers (p \disj r) \disj \neg(p \disj \neg q)$.

Double negation elimination translates to $\theorem p \disj \neg p$.

Along with contraposition this means $p \disj q \infers q \disj p$.

The verum ex quod libet may then be rewritten as $p \infers p \disj q$.

Interestingly $\neg p \then \neg(q \then \neg r), \neg p \infers q, r$ hence $p \disj (q \conj r) \infers (p \disj q) \conj (p \disj r)$.

Peirce's law becomes $p \vee (p \conj q) \infers p$.


This justifies the following definition.

The following result is a formulation of the law of the excluded middle in terms of the implication.

Clearly $(\neg p \then p) \then \neg p \infers \neg p$.

We see that $\theorem p \then (\neg p \then p)$ and $\theorem (\neg p \then p) \then \neg\neg p$

Since $(\neg\neg p \then p) \then p \infers (\neg\neg p \then p) \then \neg\neg p, \neg\neg p$.

Furthermore $\neg\neg p \infers \neg(p \then \neg p)$ since $\theorem (p \then \neg p)\then \neg p$.

This becomes more clear once we consider $\theorem (p \then \neg p) \then \neg p$.

In that case $\theorem \neg p \then \neg p$ means $\theorem (p \then \neg p)\then $.

Now $(\neg\neg p \then p) \then \neg p \infers p \then \neg p$
since $\theorem p \then (\neg\neg p \then p)$.

Hence $\theorem ((\neg\neg p \then p) \then \neg p) \then \neg p$.

\begin{dfn}
    We may define the disjunction $P \vee Q$ as $\neg P \then Q$ and $\neg Q \then P$.
\end{dfn}

The law of the excluded middle is then defined as $p \vee \neg p$. Evidently this is equivalent to reflexivity and introduction of double negation.

We may rewrite Peirce's law as $p \vee (p \and \neg p) \infers p$ for the instance $(p \then \neg\neg p) \then p \infers p$.

\newpage

Including this assumption with the preceding rules and operators suffices to characterise the entire logic. This is known as the inferential approach.


We may now show some interesting theorems that follow from the inferential approach. However, we may also characterise the logic by means of these theorems as premises while dropping the assumption of reflexivity as well as every rule except modus ponens. In that case these characterising theorems become axioms from which reflexivity and the omitted rules may be inferred.

Each of the characterising theorems of the inferential approach has a characteristic logical structure in which any of the composing propositions may be substituted for any other proposition to yield another characterising theorem. Conversely, the axioms may be written in a characteristic general form where substitution of a composing proposition yields another axiom.

\begin{axm}[Materiality of implication]
    $$P \then (Q \then P)$$
\end{axm}

This shows that $P \then (P \then P)$ is an axiom so $P \infers P$ for any $P, Q \in \mathcal W$. Hence the logic remains reflexive under the axiomatic approach. Evidently this implies that any axiom is also a theorem, which is necessary for the equivalence of the inferential and axiomatic approach.

Next we see that $P \then (Q \then R), P \then Q, P \infers R$.

\begin{axm}[Distributivity of implication]
    $$(P \then (Q \then R)) \then ((P \then Q) \then (P \then R))$$
\end{axm}

\end{document}
